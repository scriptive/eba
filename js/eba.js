/*!
    EBA: https://scriptive.github.io/eba
*/
!function(e){"use strict";var t={description:"This is not the entire bible. This is the bible analysis according to topics. Thus it helps to search, check and study the scriptures. Please be advised, read the bible book to meditate.",information:{email:"supereffortless@gmail.com",introduction:"Please give proper title/subject for your email.",list:[{name:"Advice",desc:"xxxxxxx"},{name:"Broken Report",desc:"xxxxxxx"},{name:"Copyrights",desc:"xxxxxxx"},{name:"Discussion",desc:"xxxxxxx"},{name:"Donation",desc:"xxxxxxx"},{name:"Mistaken Verse",desc:"xxxxxxx"},{name:"Question",desc:"xxxxxxx"}],conclusion:"You will be replied as soon as possible."},page:{home:{id:1,name:"Home",class:"icon-language",title:"Effortless"},category:{id:2,name:"Category",class:"book"},reader:{id:3,name:"Reader",class:"chapter"},search:{id:4,name:"Search",class:"icon-lookup",title:"Search"},result:{id:5,title:"Effortless"},bookmark:{id:6,name:"Stars",class:"icon-star",title:"Stars"},random:{id:7,name:"Random Verse",class:"icon-random",title:"Random Verse"},setting:{id:8,class:"icon-display",title:"Display"},about:{id:9,name:"About",class:"icon-about",title:"About"},contact:{id:10,name:"Contact",class:"icon-contact",title:"Contact"}},file:{template:"z.html",book:"https://storage.googleapis.com/effortless/book.json",urlLocal:"eba/bId.xml",urlAPI:["https://storage.googleapis.com/effortless/bId.xml"]},fileStorage:{RequestQuota:1073741824,Permission:1,objectStore:{name:"eba",version:1}},lang:{isLocalRemove:'Would you like to remove "{is}" from local?',tryAWord:"Try a word or two!",noMatchFor:"No match for {for}!",noCategoryContent:"This category has no content...",noCategoryData:"This category has no data...",noBookmark:"None",noLanguage:"...",isNotFound:'Not found: "{is}"',Loading:"Loading",Error:"Error",Add:"Add",Adding:"Adding",Remove:"Remove",Removing:"Removing",Update:"Update",Updating:"Updating"},classname:{active:"active",inactive:"inactive",filter:"filter",available:"available"},version:"0.0.4",build:"1.0.2"};e("error").on(function(e){console.log("error",e)}),e({main:"#lCm",mainActive:".scSB",menu:"#lMn",idUnique:"eba:unique"}).ready(function(n){var a,o=document,i=n.storage;console.log(n),n.extension({notification:function(e){console.log("notification",e)},initiate:function(){t.pageHome=Object.keys(t.page)[0];var r=function(){return l().then(function(){i.update("query");var e=i.name.query.page;return new Promise(function(t,a){n.page[e](t,a)}).then(function(){o.body.setAttribute("id",e),n.header.content()},function(e){return e})},function(e){return e})},l=function(){var a=Object.keys(i.name.setting.available),o={page:t.pageHome,language:a[0],testament:1,category:1,q:"",pagePrevious:t.pageHome,result:""},r={page:function(e,n,a,o){o[e]=t.page.hasOwnProperty(n.toLowerCase())?n.toLowerCase():a},pagePrevious:function(e,n,a,o){o[e]&&t.page.hasOwnProperty(o[e])?a!=o.page&&(o[e]=t.page[a].id<=t.page[o.page].id?a:t.pageHome):o[e]=a,t[e]=o[e]},language:function(n,o,r,l){a.length?(e(a).inArray(o)||(t[n]=l[r]),i.name.query.hasOwnProperty("pageBlock")&&delete i.name.query.pageBlock):(i.name.query.page=t.pageHome,i.name.query.pageBlock=1)},q:function(e,t,n,a){a[e]=decodeURIComponent(t)}};return new Promise(function(t,a){try{e(i.name.query).isEmpty()?e(i.name.query).merge(o,n.hashObject):(o.pagePrevious=i.name.query.page,e(i.name.query).merge(n.hashObject)),e(i.name.query).each(function(e,t,n){r[t]instanceof Function&&r[t](t,e,o[t],n)}),t()}catch(e){a(e)}})};new Promise(function(l,s){(i.select("setting").select("book").select("query").select("language").select("randomverse").select("todo").select("bookmark").select("suggestion"),i.name.setting.hasOwnProperty("build")?i.name.setting.build==t.build?t.requireUpdate=0:t.requireUpdate=2:t.requireUpdate=1,t.requireUpdate&&(i.name.setting.version=t.version,i.name.setting.build=t.build,i.update("setting")),new Promise(function(e,o){a=fileStorage(t.fileStorage,{success:function(){n.isEmpty(i.name.book)?n.book.json().then(function(){e()},function(e){o(e)}):e()},fail:function(e){o(e)}})})).then(function(){return o.body.classList.add("eba"),i.name.setting.hasOwnProperty("class")?e(i.name.setting.class).each(function(e,t){o.body.classList.add(e)}):i.name.setting.class={},i.name.setting.hasOwnProperty("available")||(i.name.setting.available={}),a.download({url:t.file.template.replace(/z/,["layout","default"].join(".")),before:function(e){e.overrideMimeType("text/html; charset=utf-8"),e.responseType="document"}}).then(function(a){return new Promise(function(r,l){try{for(var s=a.data.body;s.firstChild;)o.body.appendChild(s.firstChild);n.panelEvent(function(a){a.open(function(a){var o=e(n.scPanelCurrent).selectElement("ul.lmList").removeChild();e(t.page).each(function(t,n){t.name&&o.appendChild(e("li").appendChild(e("a").html(t.name).attr("href","#"+n)).addClass(n).toggleClass("active",i.name.query.page==n))}),!0===a.overlay&&(n.scContent.style.opacity=.2)}),a.close(function(){n.scContent.style.opacity=1}),a.drag(function(e){!0===e.overlay&&(n.scContent.style.opacity=parseFloat(1-e.percentage/170).toFixed(2))}),r()})}catch(e){l(e)}}).then(function(){return r().then(function(e){var t=o.querySelector("div#screen");if(e)return e;t&&t.remove()})},function(e){return e})},function(e){return e}).then(function(e){return e})},function(e){return e}).then(function(e){e?s(e):l()})}).then(function(){console.log(n.hashObject),n.on("hash",function(e){r().then(function(e){e&&console.log("page error",e)})});e().selectElement("form.search")},function(e){new Promise(function(e,n){t.requireUpdate?(i.deleteAll(),n()):e()}).then(function(){"object"==typeof e&&e.hasOwnProperty("message")?n.notification(e.message):"string"==typeof e&&n.notification(e)},function(){location.reload(!0)})})},Data:function(e){var o=n.book,r="book",l=i.name,s=this;this.open=function(){return a.open({urlLocal:t.file.urlLocal.replace(/bId/,e),readAs:"readAsText"})},this.download=function(n,i){var r={dir:JSON.parse(JSON.stringify(t.file.urlAPI)),request:function(o){return a.download({url:o,urlLocal:t.file.urlLocal.replace(/bId/,e),before:function(e){n(),e.overrideMimeType("text/xml; charset=utf-8")},progress:i})},process:function(t,n){var a=r.dir.shift().replace(/bId/,e);return r.request(a).then(function(n){n.xml||(n.xml=(new DOMParser).parseFromString(n.data,n.fileType)),o.file[e]=n.xml,t(n)},function(e){r.dir.length?r.process(t,n):n(e)})}};return new Promise(r.process)},this.save=function(t){return new Promise(function(c,d){a.save(t).then(function(t){o.hasOwnProperty(r)&&o[r].hasOwnProperty(e)&&(l[r][e]=o[r][e]);var a=t.total;new n.Content(e).xml().then(function(t){t.information().then(function(t){t.information.size=s.bytesToSize(a),i.name.setting.available[e]=t.information},function(e){})},function(e){}).then(function(){i.update("setting"),c(t)})},function(e){d(e)})})},this.bytesToSize=function(e,t){if(0==e)return"0 Bytes";var n=t||2,a=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,a)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]},this.delete=function(){return new Promise(function(n,o){a.delete({urlLocal:t.file.urlLocal.replace(/bId/,e),fileNotFound:!0}).then(function(t){delete l[r][e].information,delete i.name.setting.available[e],i.update(r).update("setting"),n(t)},function(e){o(e)})})},this.request=function(t){return new Promise(function(n,a){o.file.hasOwnProperty(e)?n(o.file[e]):l[r].hasOwnProperty(e)?s.open().then(function(t){t.xml=(new DOMParser).parseFromString(t.fileContent,t.fileType),o.file[e]=t.xml,n(t.xml)},function(e){s.delete().then(function(){a(e)})}):s.download(t).then(function(e){s.save(e).then(function(){console.log("save success")},function(){console.log("save fail")}).then(function(){n(e.xml)})},function(e){a(e)})})}},Content:function(a){var o,r={category:0,section:0,verse:0};t.category={};var l=function(a,o,i){return new Promise(function(l,s){var d=c(i);if(!d.length)return s(t.lang.noCategoryData);e(d).each(function(l,s){var c,d=i||l.getAttribute("id");e(l.querySelectorAll(p())).each(function(i,l){var s=o(i);if(s){c||(c=f.createOl(a,d)),r.verse++;var p=i.getAttribute("book"),h=p<=39?1:2,g=i.getAttribute("chapter"),v=i.getAttribute("verse"),y=(i.getAttribute("tag"),m(h).innerHTML,u(p).innerHTML),b=n.book.hasBookmark(d,p,g,v)?t.classname.active:t.classname.inactive,C=1==h?"OT":"NT",k="b"+p;n.book.category.name="Effortless!",c.appendChild(e("li").appendChild(e("div").click(function(e){n.book.addBookmark(e.target.parentNode,d,p,g,v)}).addClass("icon-star"),e("div").html(f.replaceNumber(s)).attr("data-title","123 234:345".replace(123,n.book.digit(y)).replace(234,n.book.digit(g)).replace(345,n.book.digit(v)))).addClass(b,C,k))}})}),r.verse?l(r):s(i?t.lang.noCategoryContent:t.lang.noMatchFor)})},s=function(e){return e?o.querySelector('section row[id="0"]'.replace(0,e)):o.querySelectorAll("section row")},c=function(e){return o.querySelectorAll(e?'category[id="0"]'.replace(0,e):"category")},d=function(e){return o.querySelectorAll('category[id="0"] row'.replace(0,e))},u=function(e){return e?o.querySelector('book row[id="0"]'.replace(0,e)):o.querySelectorAll("book row")},m=function(e){return e?o.querySelector('testament row[id="0"]'.replace(0,e)):o.querySelectorAll("testament row")},p=function(e,t,n,a,o){var i="row";return e&&(i+='[book="0"]'.replace(0,e)),t&&(i+='[chapter="0"]'.replace(0,t)),n&&(i+='[verse="0"]'.replace(0,n)),a&&(i+='[testament="0"]'.replace(0,a)),o&&(i+='[tag="0"]'.replace(0,o)),i},f={replaceKeyword:function(e,t){return"string"==typeof t?e.replace(new RegExp(t,"gi"),"<b>$&</b>"):e},replaceNumber:function(e){return e.match(/\[(.*?)\]/g).length>1?e.replace(/\[(.*?)\]/g,"<sup>$1</sup>"):e.replace(/\[(.*?)\]/g,"")},createOl:function(t,n){r.category++;var a=s(n);return e("ol").appendTo(e("li").appendChild(e("h2").html(a.getAttribute("name")).attr("data-description",a.innerHTML)).appendTo(t)).addClass("section")}},h={section:function(t){return new Promise(function(a,o){var i=[];e(s()).each(function(a,o){r.section++;var l=a.getAttribute("id"),s=a.getAttribute("name"),c=(a.getAttribute("sort"),a.innerHTML,s.charAt(0));i.indexOf(c)<0&&(i.push(c),t.appendChild(e("li").html(c).addClass("alpha").attr("id",c))),t.appendChild(e("li").appendChild(e("a").html(s).attr("data-total",d(l).length).attr("data-description",a.innerHTML).attr("href","#reader?category="+l)).addClass("icon-arrow-right").attr("data-title",n.book.digit(l)))}),a(r)})},randomverse:function(){return new Promise(function(e,t){r.information={};var n=Math.floor(Math.random()*s().length),a=d(n),o=a[Math.floor(Math.random()*a.length)],i=o.getAttribute("book"),l=o.getAttribute("chapter"),c=o.getAttribute("verse");r.information[n]={},r.information[n][i]={},r.information[n][i][l]=[c],e(r)})},information:function(){return new Promise(function(t,n){var a;r.information={},e(a?o.querySelector('info row[id="0"]'.replace(0,a)):o.querySelectorAll("info row")).each(function(e,t){r.section++;var n=e.getAttribute("id");r.information[n]=e.innerHTML}),t(r)})},reader:function(e,t){return l(e,function(e){return e.innerHTML},t)},lookup:function(e,t){return l(e,function(e){var n=e.getAttribute("testament");if(new RegExp(t,"i").test(e.innerHTML)){if(!(n=e.getAttribute("testament")))return f.replaceKeyword(e.innerHTML,t);if(n==i.name.testament)return f.replaceKeyword(e.innerHTML,t)}})},bookmark:function(a,o){return new Promise(function(l,s){e(o).each(function(o,l){var s;e(o).each(function(o,d){e(o).each(function(o,h){e(o).each(function(o,g){e(c(l)).each(function(c,g){e(c.querySelectorAll(p(d,h,o))).each(function(c,p){s||(s=f.createOl(a,l)),r.verse++;var g=d<=39?1:2,v=(m(g).innerHTML,u(d).innerHTML),y=1==g?"OT":"NT",b="b"+d,C=n.book.hasBookmark(l,d,h,o)?t.classname.active:t.classname.inactive;s.appendChild(e("li").appendChild(e("div").click(function(e){var r=e.target.parentNode;if(n.book.addBookmark(r,l,d,h,o),"randomverse"!=i.name.query.page){var s=r.parentElement;s.removeChild(r),""===s.innerHTML&&(s.parentElement.remove(),!1===a.hasChild()&&a.attr("class","msg error").appendChild("li").appendChild("div").html(t.lang.noBookmark))}}).addClass("icon-star"),e("div").html(f.replaceNumber(c.innerHTML)).attr("data-title","1s 2s:3s".replace("1s",v).replace("2s",n.book.digit(h)).replace("3s",n.book.digit(o)))).addClass(C,y,b))})})})})})}),r.verse?l(r):s(t.lang.noBookmark)})}};this.xml=function(){return new Promise(function(e,t){new n.Data(a).request(function(){}).then(function(t){o=t,e(h)},function(e){t(e)})})}},book:{file:{},category:{},digit:function(e){var t={3:{0:"၀",1:"၁",2:"၂",3:"၃",4:"၄",5:"၅",6:"၆",7:"၇",8:"၈",9:"၉"}};if(t.hasOwnProperty(i.name.query.language)){var n=t[i.name.query.language];return e.toString().replace(/[0-9]/g,function(e){return n[e]})}return e},addBookmark:function(e,n,a,o,r){var l=i.name.bookmark;e.classList.contains(t.classname.active)?(l[n][a][o].splice(l[n][a][o].indexOf(r),1),l[n][a][o].length<=0&&(delete l[n][a][o],0===Object.keys(l[n][a]).length&&(delete l[n][a],0===Object.keys(l[n]).length&&delete l[n])),e.classList.remove(t.classname.active),e.classList.add(t.classname.inactive)):(l.hasOwnProperty(n)||(l[n]={}),l[n].hasOwnProperty(a)||(l[n][a]={}),l[n][a].hasOwnProperty(o)||(l[n][a][o]=[]),l[n][a][o].push(r.toString()),e.classList.add(t.classname.active),e.classList.remove(t.classname.inactive)),i.update("bookmark")},hasBookmark:function(e,t,n,a){var o=i.name.bookmark;if(o.hasOwnProperty(e)&&o[e].hasOwnProperty(t)&&o[e][t].hasOwnProperty(n))return o[e][t][n].indexOf(a)>-1},isAvailable:function(t){if(!e(i.name.setting.available).isEmpty()&&i.name.setting.available.hasOwnProperty(t))return!0},json:function(o){return new Promise(function(r,l){o=o||t.file.book,a.download({url:o}).then(function(t){n.book.all=e(i.name.book).merge(JSON.parse(t.data)),i.update("book"),r()},function(e){l(e)})})}},page:{home:function(a,r){var l=e("p"),s=e(n.scContent).html(e("ul").appendChild(e("li").appendChild(l.html(t.lang.noLanguage)),e("li").appendChild(e("p").html(t.lang.Update).click(function(a){o.querySelector(".scriptive").classList.add(t.classname.inactive),e(a.target).appendChild("i").addClass("icon-loading animate-spin"),n.book.json().then(function(){console.log("success")},function(e){console.log("fail",e)}).then(function(){location.reload()})}).addClass("update"))).addClass("msg notify")).appendChild("ul").addClass("home"),c=(new Date).getTime();e(i.name.book).each(function(a,o){var i=!!n.book.isAvailable(o);s.appendChild(e("li").appendChild(e("div").appendChild(e("div").appendChild(e("a").attr("href","#category?language=bId&i=random".replace(/bId/,o).replace(/random/,c)).html(a.name)),e("div").html(i?t.lang.Remove:t.lang.Add).click(function(a){var i=a.target,r=i.parentNode.parentNode;n.book.isAvailable(o)?(i.innerHTML=t.lang.Removing,new n.Data(o).delete().then(function(){i.innerHTML=t.lang.Add,r.removeAttribute("class",t.classname.active)},function(e){i.innerHTML=t.lang.Error})):new n.Data(o).download(function(){e(i).html(e("i").addClass("icon-loading animate-spin"))},function(e){}).then(function(e){return new n.Data(o).save(e).then(function(){r.setAttribute("class",t.classname.active),i.innerHTML=t.lang.Remove},function(){i.innerHTML=t.lang.Error+":01"})},function(e){0==navigator.onLine&&l.html("Please retry when internet connection is available!"),i.innerHTML=t.lang.Add})}))).attr("id",o).toggleClass(t.classname.active,i))}),a()},category:function(a,r){var l=e("ul").addClass("category");e(n.scContent).html(l);var s=i.name.query,c=s.page,d=s.language;t.page[c].title=i.name.book[d].name,new n.Content(d).xml().then(function(e){e.section(l).then(function(e){},function(e){})},function(n){l.appendChild(e("li").appendChild(e("div").html(t.lang.isNotFound.replace("{is}",i.name.query.language)))).attr("class","msg error")}).then(function(){a();var t=e(n.scContent).appendChild("ul").attr("class","category-index").appendChild("li").click(function(e){var t=e.target.getAttribute("class"),a=o.getElementById(t);a&&(n.scContent.scrollTop=a.offsetTop)});l.selectElement("li.alpha",!0).each(function(n,a){t.appendChild(e("p").attr("class",n.getAttribute("id")).html(n.innerHTML))})})},reader:function(a,r){var l=e("ul").addClass("reader");e(n.scContent).html(l);var s=i.name.query,c=s.page,d=s.language;new n.Content(d).xml().then(function(e){e.reader(l,s.category).then(function(e){},function(e){})},function(e){}).then(function(){t.page[c].title=n.book.category.name}).then(function(){e(n.scContent).prependChild(e("ul").appendChild(e("li").appendChild(e("p").appendChild(e("span").attr("data-id","OT").html("OT"),e("span").attr("data-id","NT").html("NT")).click(function(t){var n=t.target,a=o.querySelectorAll("ul.reader li ol li.1".replace("1",n.dataset.id));e(n).toggleClass("active"),e(a).each(function(e,t){"none"===e.style.display?e.style.display="":e.style.display="none"})}).attr("class","toggle"))).addClass("msg notify")),a()})},search:function(a,r){var l=e("ul").addClass("search");e(n.scContent).html(l),l.appendChild(e("li").appendChild(e("div").appendChild(e("input").attr("type","search").attr("name","q").attr("id","q").attr("placeholder","search..."))),e("li").appendChild(e("div").html("Language").click(function(n){var a=n.target;if(a.nextElementSibling)a.nextElementSibling.remove();else{var o=e(a.parentNode).appendChild("ol").click(function(n){var a=n.target,o=a.getAttribute("id");o&&i.name.query.language!=o&&(i.name.query.language=o,e(a.parentNode.childNodes).each(function(e){e==a?e.classList.add(t.classname.active):e.classList.contains(t.classname.active)&&e.classList.remove(t.classname.active)}))});e(i.name.setting.available).each(function(n,a){o.appendChild(e("li").html(n.name).attr("id",a).addClass(i.name.query.language==a?t.classname.active:t.classname.inactive))})}})),e("li").appendChild(e("div").appendChild(e("p").html("OT").attr("id","1").toggleClass(t.classname.active,1==i.name.query.testament),e("p").html("NT").attr("id","2").toggleClass(t.classname.active,2==i.name.query.testament))).click(function(n){var a=n.target,o=a.getAttribute("id");e(a.parentNode.childNodes).each(function(n,o){e(n).toggleClass(t.classname.active,n==a)}),i.name.query.testament=o}).addClass("lsi"),e("li").appendChild(e("div").html("Enter").click(function(e){var t=o.getElementById("q").value;t&&i.name.query.language&&i.name.query.testament&&(window.location.hash="#result?q=123&i=234".replace(/123/,t).replace(/234/,(new Date).getTime()))}))),a()},result:function(a,o){var r=e("ul").addClass("reader");e(n.scContent).html(r);var l=i.name.query,s=(l.page,l.language);new n.Content(s).xml().then(function(n){i.name.query.q?n.lookup(r,i.name.query.q).then(function(e){},function(t){r.html(e("li").appendChild(e("div").html(i.name.query.q))).attr("class","msg error")}):r.html(e("li").appendChild(e("div").html(t.lang.tryAWord))).attr("class","msg error")},function(n){r.appendChild(e("li").appendChild(e("div").html(t.lang.isNotFound.replace("{is}",i.name.query.book)))).attr("class","msg error")}).then(function(){a()})},bookmark:function(a,o){var r=e("ul").addClass("reader");e(n.scContent).html(r),new n.Content(i.name.query.language).xml().then(function(t){t.bookmark(r,i.name.bookmark).then(function(e){},function(t){r.html(e("li").appendChild(e("div").html(t))).attr("class","msg error")})},function(n){r.html(e("li").appendChild(e("div").html(t.lang.isNotFound.replace("{is}",i.name.query.language)))).attr("class","msg error")}).then(function(){a()})},random:function(a,o){var r=e("ul").addClass("reader");e(n.scContent).html(r);var l=!1,s=(new Date).toLocaleDateString().toString().replace(/\//g,"");new Promise(function(t,a){i.name.randomverse&&e(i.name.randomverse).isObject()&&!e(i.name.randomverse).isEmpty()?i.name.randomverse.id!=s&&(i.name.randomverse.id=s,l=!0):(l=!0,i.name.randomverse.id=s),l?new n.Content(i.name.query.language).xml().then(function(e){e.randomverse().then(function(e){i.name.randomverse.verse=e.information,i.update("randomverse"),t()})}):t()}).then(function(){new n.Content(i.name.query.language).xml().then(function(t){t.bookmark(r,i.name.randomverse.verse).then(function(e){},function(t){r.html(e("li").appendChild(e("div").html(t))).attr("class","msg error")})},function(n){r.html(e("li").appendChild(e("div").html(t.lang.Error))).attr("class","msg error")}).then(function(){a()})})},setting:function(a,r){var l=i.name.setting,s=o.getElementById("lCm").getElementsByClassName("scSB")[0],c=n.createElement("ul");e(s).removeChild().appendChild(c).addClass("setting"),l.hasOwnProperty("class")||(l.class={}),e({fontsize:{title:"Words size",style:"body {font-size:$100%;}",option:{"80%":{title:"1",class:"size-small-extra"},"90%":{title:"2",class:"size-small"},"100%":{title:"3",class:"size-normal",defaults:!0},"120%":{title:"4",class:"size-large"},"150%":{title:"5",class:"size-large-extra"}}},background:{title:"background colour",style:"body {background-color:$white;}",option:{"#ffffff":{class:"color-white"},"#F8F8F8":{class:"color-lightgray",defaults:!0},"#7f7f7f":{class:"color-dimgrey"},"#b97a59":{class:"color-chocolate"},"#880016":{class:"color-darkred"},"#ed1b24":{class:"color-red"},"#fef102":{class:"color-gold"},"#24b04d":{class:"color-green"},"#3f47cc":{class:"color-darkblue"}}}}).each(function(a,o){var r=n.createElement("li");e(c).appendChild(r).appendChild("h3").html(a.title);var s=e(c).appendChild(r).appendChild("ol").addClass(o).element;e(a.option).each(function(n,a){var r=t.classname.inactive,c=e(s).appendChild("li").addClass(n.class).addClass("icon-ok");n.hasOwnProperty("title")&&c.attr("data-title",n.title),l.class.hasOwnProperty(o)?r=l.class[o]==n.class?t.classname.active:t.classname.inactive:n.hasOwnProperty("defaults")&&(r=t.classname.active),c.addClass(r).click(function(a){var r=a.target;r.classList.contains(t.classname.active)||(e(r.parentNode.getElementsByClassName(t.classname.active)).each(function(e,n){e.classList.remove(t.classname.active)}),r.classList.add(t.classname.active),l.class.hasOwnProperty(o)&&document.body.classList.contains(l.class[o])&&document.body.classList.remove(l.class[o]),document.body.classList.contains(n.class)||document.body.classList.add(n.class),l.class[o]=n.class,i.update("setting"))})})}),a()},about:function(a,o){var r=e("ul").addClass("about");e(n.scContent).html(r),r.appendChild(e("li").appendChild(e("p").html(t.description).addClass("desc")).addClass("description")),e(i.name.setting.available).each(function(n,a){r.appendChild(e("li").appendChild(e("h3").html(n.name),e("p").attr("data-title","Version").html(n.version),e("p").html(n.desc),e("p").attr("data-title","Size").html(n.hasOwnProperty("size")?n.size:"...")).addClass(t.classname.available))}),a()},contact:function(a,o){var i=e("ul").addClass("contact about");e(n.scContent).html(i);var r=t.information;for(var l in console.log(n,e),r)if(r.hasOwnProperty(l)){var s=r[l],c=e("li").addClass(l);if(n.isString(s))c.appendChild(e("p").html(s)).appendTo(i);else for(var d in s)s.hasOwnProperty(d)&&c.appendChild(e("p").attr("data-title",s[d].name).html(s[d].desc)).appendTo(i)}return a()}},header:{content:function(){var n=o.getElementById("lMn"),a=n.querySelector(".icon-panel"),r=n.querySelector("#lmD"),l=n.querySelector("#backLink");r.setAttribute("data-title",t.page[i.name.query.page].title),i.name.query.page!=i.name.query.pagePrevious?l||((l=o.createElement("li")).setAttribute("class","icon-left"),l.setAttribute("id","backLink"),n.insertBefore(l,n.firstChild),a.style.display="none",e(l).click(function(){window.location.hash="#123".replace(/123/,i.name.query.pagePrevious)})):l&&(l.remove(),a.style.display="")}}}).initiate()})}(scriptive);