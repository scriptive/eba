/*!
    EBA
    Version {package.version}-{application.buildDate}
    https://scriptive.github.io/eba
*/
!function(e){"use strict";var t={description:"This is not the entire bible. This is the bible analysis according to topics. Thus it helps to search, check and study the scriptures. Please be advised, read the bible book to meditate.",information:{email:"supereffortless@gmail.com",introduction:"Please give proper title/subject for your email.",list:[{name:"Advice",desc:"xxxxxxx"},{name:"Broken Report",desc:"xxxxxxx"},{name:"Copyrights",desc:"xxxxxxx"},{name:"Discussion",desc:"xxxxxxx"},{name:"Donation",desc:"xxxxxxx"},{name:"Mistaken Verse",desc:"xxxxxxx"},{name:"Question",desc:"xxxxxxx"}],conclusion:"You will be replied as soon as possible."},page:{home:{id:1,name:"Home",class:"icon-language",title:"Effortless"},category:{id:2,name:"Category",class:"book"},reader:{id:3,name:"Reader",class:"chapter"},search:{id:4,name:"Search",class:"icon-lookup",title:"Search"},result:{id:5,title:"Effortless"},bookmark:{id:6,name:"Stars",class:"icon-star",title:"Stars"},random:{id:7,name:"Random Verse",class:"icon-random",title:"Random Verse"},setting:{id:8,class:"icon-display",title:"Display"},about:{id:9,name:"About",class:"icon-about",title:"About"},contact:{id:10,name:"Contact",class:"icon-contact",title:"Contact"}},file:{template:"z.html",book:"https://storage.googleapis.com/effortless/book.json",urlLocal:"eba/bId.xml",urlAPI:["https://storage.googleapis.com/effortless/bId.xml"]},fileStorage:{RequestQuota:1073741824,Permission:1,objectStore:{name:"eba",version:1}},lang:{isLocalRemove:'Would you like to remove "{is}" from local?',tryAWord:"Try a word or two!",noMatchFor:"No match for {for}!",noCategoryContent:"This category has no content...",noCategoryData:"This category has no data...",noBookmark:"None",noLanguage:"...",isNotFound:'Not found: "{is}"',Loading:"Loading",Error:"Error",Add:"Add",Adding:"Adding",Remove:"Remove",Removing:"Removing",Update:"Update",Updating:"Updating"},classname:{active:"active",inactive:"inactive",filter:"filter",available:"available"},version:"0.0.4",build:"1.0.2"};e({main:"#lCm",mainActive:".scSB",menu:"#lMn",idUnique:"eba:unique"}).ready(function(n){var a,i=document,o=n.storage;n.on("error",function(e){console.log("error",e)}),n.extension({notification:function(e){console.log("notification",e)},initiate:function(){t.pageHome=Object.keys(t.page)[0];var r=function(){return l().then(function(){o.update("query");var e=o.name.query.page;return new Promise(function(t,a){n.page[e](t,a)}).then(function(){i.body.setAttribute("id",e),n.header.content()},function(e){return e})},function(e){return e})},l=function(){var a=Object.keys(o.name.setting.available),i={page:t.pageHome,language:a[0],testament:1,category:1,q:"",pagePrevious:t.pageHome,result:""},r={page:function(e,n,a,i){i[e]=t.page.hasOwnProperty(n.toLowerCase())?n.toLowerCase():a},pagePrevious:function(e,n,a,i){i[e]&&t.page.hasOwnProperty(i[e])?a!=i.page&&(i[e]=t.page[a].id<=t.page[i.page].id?a:t.pageHome):i[e]=a,t[e]=i[e]},language:function(n,i,r,l){a.length?(e(a).inArray(i)||(t[n]=l[r]),o.name.query.hasOwnProperty("pageBlock")&&delete o.name.query.pageBlock):(o.name.query.page=t.pageHome,o.name.query.pageBlock=1)},q:function(e,t,n,a){a[e]=decodeURIComponent(t)}};return new Promise(function(t,a){try{e(o.name.query).isEmpty()?e(o.name.query).merge(i,n.hashObject):(i.pagePrevious=o.name.query.page,e(o.name.query).merge(n.hashObject)),e(o.name.query).each(function(e,t,n){r[e]instanceof Function&&r[e](e,t,i[e],n)}),t()}catch(e){a(e)}})};new Promise(function(l,s){(o.select("setting").select("book").select("query").select("language").select("randomverse").select("todo").select("bookmark").select("suggestion"),o.name.setting.hasOwnProperty("build")?o.name.setting.build==t.build?t.requireUpdate=0:t.requireUpdate=2:t.requireUpdate=1,t.requireUpdate&&(o.name.setting.version=t.version,o.name.setting.build=t.build,o.update("setting")),new Promise(function(e,i){a=fileStorage(t.fileStorage,{success:function(){n.isEmpty(o.name.book)?n.book.json().then(function(){e()},function(e){i(e)}):e()},fail:function(e){i(e)}})})).then(function(){return i.body.classList.add("eba"),o.name.setting.hasOwnProperty("class")?e(o.name.setting.class).each(function(e,t){i.body.classList.add(t)}):o.name.setting.class={},o.name.setting.hasOwnProperty("available")||(o.name.setting.available={}),a.download({url:t.file.template.replace(/z/,["default","all"].join(".")),before:function(e){e.overrideMimeType("text/html; charset=utf-8"),e.responseType="document"}}).then(function(a){return new Promise(function(r,l){try{for(var s=a.data.body;s.firstChild;)i.body.appendChild(s.firstChild);n.panelEvent(function(a){a.open(function(a){var i=n.scPanelCurrent.querySelector("ul");e(i).removeChild(),e(t.page).each(function(t,n){n.name&&e(i).appendChild("li").addClass(t).toggleClass("active",o.name.query.page==t).appendChild("a").attr("href","#"+t).setContent(n.name)}),!0===a.overlay&&(n.scContent.style.opacity=.2)}),a.close(function(){n.scContent.style.opacity=1}),a.drag(function(e){!0===e.overlay&&(n.scContent.style.opacity=parseFloat(1-e.percentage/170).toFixed(2))}),r()})}catch(e){l(e)}}).then(function(){return r().then(function(e){var t=i.querySelector("div#screen");if(e)return e;t&&t.remove()})},function(e){return e})},function(e){return e}).then(function(e){return e})},function(e){return e}).then(function(e){e?s(e):l()})}).then(function(){n.onlineEvent(function(){}),n.offineEvent(function(){}),n.resizeEvent(function(){}),n.hashEvent(function(){r().then(function(e){e&&console.log("page error",e)})});document.querySelector("form.search")},function(e){new Promise(function(e,n){t.requireUpdate?(o.deleteAll(),n()):e()}).then(function(){"object"==typeof e&&e.hasOwnProperty("message")?n.notification(e.message):"string"==typeof e&&n.notification(e)},function(){location.reload(!0)})})},Data:function(e){var i=n.book,r="book",l=o.name,s=this;this.open=function(){return a.open({urlLocal:t.file.urlLocal.replace(/bId/,e),readAs:"readAsText"})},this.download=function(n,o){var r={dir:JSON.parse(JSON.stringify(t.file.urlAPI)),request:function(i){return a.download({url:i,urlLocal:t.file.urlLocal.replace(/bId/,e),before:function(e){n(),e.overrideMimeType("text/xml; charset=utf-8")},progress:o})},process:function(t,n){var a=r.dir.shift().replace(/bId/,e);return r.request(a).then(function(n){n.xml||(n.xml=(new DOMParser).parseFromString(n.data,n.fileType)),i.file[e]=n.xml,t(n)},function(e){r.dir.length?r.process(t,n):n(e)})}};return new Promise(r.process)},this.save=function(t){return new Promise(function(c,d){a.save(t).then(function(t){i.hasOwnProperty(r)&&i[r].hasOwnProperty(e)&&(l[r][e]=i[r][e]);var a=t.total;new n.Content(e).xml().then(function(t){t.information().then(function(t){t.information.size=s.bytesToSize(a),o.name.setting.available[e]=t.information},function(e){})},function(e){}).then(function(){o.update("setting"),c(t)})},function(e){d(e)})})},this.bytesToSize=function(e,t){if(0==e)return"0 Bytes";var n=t||2,a=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,a)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]},this.delete=function(){return new Promise(function(n,i){a.delete({urlLocal:t.file.urlLocal.replace(/bId/,e),fileNotFound:!0}).then(function(t){delete l[r][e].information,delete o.name.setting.available[e],o.update(r).update("setting"),n(t)},function(e){i(e)})})},this.request=function(t){return new Promise(function(n,a){i.file.hasOwnProperty(e)?n(i.file[e]):l[r].hasOwnProperty(e)?s.open().then(function(t){t.xml=(new DOMParser).parseFromString(t.fileContent,t.fileType),i.file[e]=t.xml,n(t.xml)},function(e){s.delete().then(function(){a(e)})}):s.download(t).then(function(e){s.save(e).then(function(){console.log("save success")},function(){console.log("save fail")}).then(function(){n(e.xml)})},function(e){a(e)})})}},Content:function(a){var i,r={category:0,section:0,verse:0};t.category={};var l=function(a,i,o){return new Promise(function(l,s){var d=c(o);if(!d.length)return s(t.lang.noCategoryData);e(d).each(function(l,s){var c,d=o||s.getAttribute("id");e(s.querySelectorAll(p())).each(function(o,l){var s=i(l);if(s){c||(c=f.createOl(a,d)),r.verse++;var p=l.getAttribute("book"),h=p<=39?1:2,g=l.getAttribute("chapter"),v=l.getAttribute("verse"),C=(l.getAttribute("tag"),m(h).innerHTML,u(p).innerHTML),y=n.book.hasBookmark(d,p,g,v)?t.classname.active:t.classname.inactive,b=p<=39?"OT":"NT",k=C.replace(/\s+/g,"-").toLowerCase(),w=n.createElement("li");e(c).appendChild(w).addClass(y).addClass(b).addClass(k),e(w).appendChild("div").addClass("icon-star").click(function(e){n.book.addBookmark(e.target.parentNode,d,p,g,v)}),e(w).appendChild("div").attr("data-title","123 234:345".replace(123,C).replace(234,g).replace(345,v)).setContent(f.replaceNumber(s))}})}),r.verse?l(r):s(o?t.lang.noCategoryContent:t.lang.noMatchFor)})},s=function(e){return e?i.querySelector('section row[id="0"]'.replace(0,e)):i.querySelectorAll("section row")},c=function(e){return i.querySelectorAll(e?'category[id="0"]'.replace(0,e):"category")},d=function(e){return i.querySelectorAll('category[id="0"] row'.replace(0,e))},u=function(e){return e?i.querySelector('book row[id="0"]'.replace(0,e)):i.querySelectorAll("book row")},m=function(e){return e?i.querySelector('testament row[id="0"]'.replace(0,e)):i.querySelectorAll("testament row")},p=function(e,t,n,a,i){var o="row";return e&&(o+='[book="0"]'.replace(0,e)),t&&(o+='[chapter="0"]'.replace(0,t)),n&&(o+='[verse="0"]'.replace(0,n)),a&&(o+='[testament="0"]'.replace(0,a)),i&&(o+='[tag="0"]'.replace(0,i)),o},f={replaceKeyword:function(e,t){return"string"==typeof t?e.replace(new RegExp(t,"gi"),"<b>$&</b>"):e},replaceNumber:function(e){return e.match(/\[(.*?)\]/g).length>1?e.replace(/\[(.*?)\]/g,"<sup>$1</sup>"):e.replace(/\[(.*?)\]/g,"")},createOl:function(t,a){r.category++;var i=s(a),o=n.createElement("li");return e(o).appendChild("h2").attr("data-description",i.innerHTML).setContent(i.getAttribute("name")),n.book.category.name=i.getAttribute("name"),e(t).appendChild(o).appendChild("ol").element}},h={section:function(t){return new Promise(function(n,a){var i=[];e(s()).each(function(n,a){r.section++;var o=a.getAttribute("id"),l=a.getAttribute("name"),s=(a.getAttribute("sort"),a.innerHTML,l.charAt(0));i.indexOf(s)<0&&(i.push(s),e(t).appendChild("li").addClass("alpha").attr("id",s).setContent(s)),e(t).appendChild("li").addClass("icon-arrow-right").attr("data-title",o).appendChild("a").attr("data-total",d(o).length).attr("data-description",a.innerHTML).attr("href","#reader?category="+o).setContent(l)}),n(r)})},randomverse:function(){return new Promise(function(e,t){r.information={};var n=Math.floor(Math.random()*s().length),a=d(n),i=a[Math.floor(Math.random()*a.length)],o=i.getAttribute("book"),l=i.getAttribute("chapter"),c=i.getAttribute("verse");r.information[n]={},r.information[n][o]={},r.information[n][o][l]=[c],e(r)})},information:function(){return new Promise(function(t,n){var a;r.information={},e(a?i.querySelector('info row[id="0"]'.replace(0,a)):i.querySelectorAll("info row")).each(function(e,t){r.section++;var n=t.getAttribute("id");r.information[n]=t.innerHTML}),t(r)})},reader:function(e,t){return l(e,function(e){return e.innerHTML},t)},lookup:function(e,t){return l(e,function(e){var n=e.getAttribute("testament");if(new RegExp(t,"i").test(e.innerHTML)){if(!(n=e.getAttribute("testament")))return f.replaceKeyword(e.innerHTML,t);if(n==o.name.testament)return f.replaceKeyword(e.innerHTML,t)}})},bookmark:function(a,i){return new Promise(function(l,s){e(i).each(function(i,l){var s;e(l).each(function(l,d){e(d).each(function(d,h){e(h).each(function(h,g){e(c(i)).each(function(c,h){e(h.querySelectorAll(p(l,d,g))).each(function(c,p){s||(s=f.createOl(a,i)),r.verse++;var h=m(l<=39?1:2).innerHTML,v=u(l).innerHTML,C=h.replace(" ","-").toLowerCase(),y=v.replace(" ","-").toLowerCase(),b=n.book.hasBookmark(i,l,d,g)?t.classname.active:t.classname.inactive,k=n.createElement("li");e(s).appendChild(k).addClass(b).addClass(C).addClass(y),e(k).appendChild("div").addClass("icon-star").click(function(a){var r=a.target.parentNode;n.book.addBookmark(r,i,l,d,g),"randomverse"!=o.name.query.page&&(r=r.remove())&&""===r.innerHTML&&(r=r.parentNode.remove())&&""===r.innerHTML&&e(r).addClass("msg").appendChild("li").appendChild("div").setContent(t.lang.noBookmark)}),e(k).appendChild("div").attr("data-title","123 234:345".replace(123,v).replace(234,d).replace(345,g)).setContent(f.replaceNumber(p.innerHTML))})})})})})}),r.verse?l(r):s(t.lang.noBookmark)})}};this.xml=function(){return new Promise(function(e,t){new n.Data(a).request(function(){}).then(function(t){i=t,e(h)},function(e){t(e)})})}},book:{file:{},category:{},addBookmark:function(e,n,a,i,r){var l=o.name.bookmark;e.classList.contains(t.classname.active)?(l[n][a][i].splice(l[n][a][i].indexOf(r),1),l[n][a][i].length<=0&&(delete l[n][a][i],0===Object.keys(l[n][a]).length&&(delete l[n][a],0===Object.keys(l[n]).length&&delete l[n])),e.classList.remove(t.classname.active),e.classList.add(t.classname.inactive)):(l.hasOwnProperty(n)||(l[n]={}),l[n].hasOwnProperty(a)||(l[n][a]={}),l[n][a].hasOwnProperty(i)||(l[n][a][i]=[]),l[n][a][i].push(r.toString()),e.classList.add(t.classname.active),e.classList.remove(t.classname.inactive)),o.update("bookmark")},hasBookmark:function(e,t,n,a){var i=o.name.bookmark;if(i.hasOwnProperty(e)&&i[e].hasOwnProperty(t)&&i[e][t].hasOwnProperty(n))return i[e][t][n].indexOf(a)>-1},isAvailable:function(t){if(!e(o.name.setting.available).isEmpty()&&o.name.setting.available.hasOwnProperty(t))return!0},json:function(i){return new Promise(function(r,l){i=i||t.file.book,a.download({url:i}).then(function(t){n.book.all=e(o.name.book).merge(JSON.parse(t.data)),o.update("book"),r()},function(e){l(e)})})}},page:{home:function(a,r){e(n.scContent).removeChild();var l=i.createElement("ul");l.setAttribute("class","home"),o.name.query.hasOwnProperty("pageBlock");var s=i.createElement("ul");s.setAttribute("class","msg notify");var c=n.scContent.appendChild(s),d=e(c).appendChild("li").appendChild("p").attr("id","apple").setContent(t.lang.noLanguage);e(c).appendChild("li").appendChild("p").addClass("update").setContent(t.lang.Update).click(function(a){i.querySelector(".scriptive").classList.add(t.classname.inactive);var o=e("i").createElement().addClass("icon-loading animate-spin");e(a.target).appendChild(o.element),n.book.json().then(function(){console.log("success")},function(e){console.log("fail",e)}).then(function(){location.reload()})}),n.scContent.appendChild(l),e(o.name.book).each(function(a,o){var r=i.createElement("li"),s=i.createElement("div"),c=i.createElement("div"),u=i.createElement("a"),m=i.createElement("div");r.setAttribute("id",a),s.appendChild(c),c.appendChild(u),s.appendChild(m);var p=(new Date).getTime();e(u).attr("href","#category?language=bId&i=random".replace(/bId/,a).replace(/random/,p)).setContent(o.name),e(m).click(function(i){var o=i.target;n.book.isAvailable(a)?(m.innerHTML=t.lang.Removing,new n.Data(a).delete().then(function(){m.innerHTML=t.lang.Add,r.removeAttribute("class",t.classname.active)},function(e){m.innerHTML=t.lang.Error})):new n.Data(a).download(function(){var t=e("i").createElement().addClass("icon-loading animate-spin");e(o).removeChild().appendChild(t.element)},function(e){}).then(function(e){return new n.Data(a).save(e).then(function(){r.setAttribute("class",t.classname.active),m.innerHTML=t.lang.Remove},function(){m.innerHTML=t.lang.Error+":01"})},function(e){0==navigator.onLine&&d.setContent("Please retry when internet connection is available!"),m.innerHTML=t.lang.Add})}).setContent(t.lang.Add),n.book.isAvailable(a)&&(r.setAttribute("class",t.classname.active),m.innerHTML=t.lang.Remove),r.appendChild(s),l.appendChild(r)}),a()},category:function(a,r){var l=o.name.query,s=l.page,c=l.language,d=i.getElementById("lCm").getElementsByClassName("scSB")[0],u=e(d).removeChild().appendChild("ul").attr("class","category");t.page[s].title=o.name.book[c].name,new n.Content(c).xml().then(function(e){e.section(u.element).then(function(e){},function(e){})},function(e){u.attr("class","msg error").appendChild("li").appendChild("div").setContent(t.lang.isNotFound.replace("{is}",o.name.query.language))}).then(function(){a();var t=n.createElement("li");e(d).appendChild("ul").attr("class","category-index").appendChild(t).click(function(e){var t=e.target.getAttribute("class"),n=i.getElementById(t);n&&(d.scrollTop=n.offsetTop)}),u.selectChild("li.alpha",!0).each(function(n,a){e(t).appendChild("p").attr("class",a.getAttribute("id")).setContent(a.innerHTML)})})},reader:function(a,r){var l=i.getElementById("lCm").getElementsByClassName("scSB")[0],s=e(l).removeChild().appendChild("ul").attr("class","reader"),c=o.name.query,d=c.page,u=c.language;new n.Content(u).xml().then(function(e){e.reader(s.element,c.category).then(function(e){},function(e){})},function(e){}).then(function(){t.page[d].title=n.book.category.name,a()})},search:function(a,r){var l=i.getElementById("lCm").getElementsByClassName("scSB")[0],s=n.createElement("ul");e(l).removeChild().appendChild(s).addClass("search"),e(s).appendChild("li").appendChild("div").appendChild("input").attr("type","search").attr("name","q").attr("id","q").attr("placeholder","search..."),e(s).appendChild("li").appendChild("div").click(function(a){var i=a.target;if(i.nextElementSibling)i.nextElementSibling.remove();else{var r=n.createElement("ol");e(i.parentNode).appendChild(r).click(function(n){var a=n.target,i=a.getAttribute("id");i&&o.name.query.language!=i&&(a.parentNode.querySelector("."+t.classname.active).classList.remove(t.classname.active),e(a).addClass(t.classname.active),o.name.query.language=i)}),e(o.name.book).each(function(n,a){e(r).appendChild("li").attr("id",n).addClass(o.name.query.language==n?t.classname.active:t.classname.inactive).setContent(a.name)})}}).setContent("Language");var c=n.createElement("div");e(s).appendChild("li").addClass("lsi").appendChild(c).click(function(n){var a=n.target,i=a.getAttribute("id");if(i&&o.name.query.testament!=i){var r=a.parentNode.querySelector("."+t.classname.active);r&&r.classList.remove(t.classname.active),e(a).addClass(t.classname.active),o.name.query.testament=i}}),e(c).appendChild("p").attr("id","1").addClass(1==o.name.query.testament?t.classname.active:t.classname.inactive).setContent("OT"),e(c).appendChild("p").attr("id","2").addClass(2==o.name.query.testament?t.classname.active:t.classname.inactive).setContent("NT"),e(s).appendChild("li").appendChild("div").click(function(){var e=i.getElementById("q").value;e&&o.name.query.language&&o.name.query.testament&&(window.location.hash="#result?q=123&i=234".replace(/123/,e).replace(/234/,(new Date).getTime()))}).setContent("Enter"),a()},result:function(a,r){var l=i.getElementById("lCm").getElementsByClassName("scSB")[0],s=n.createElement("ul"),c=o.name.query,d=(c.page,c.language);e(l).removeChild().appendChild(s).attr("class","reader"),new n.Content(d).xml().then(function(n){o.name.query.q?n.lookup(s,o.name.query.q).then(function(e){},function(t){e(s).attr("class","msg error").appendChild("li").appendChild("div").setContent(t.replace("{for}",o.name.query.q))}):e(s).attr("class","msg error").appendChild("li").appendChild("div").setContent(t.lang.tryAWord)},function(n){e(s).attr("class","msg error").appendChild("li").appendChild("div").setContent(t.lang.isNotFound.replace("{is}",o.name.query.book))}).then(function(){a()})},bookmark:function(a,r){var l=i.getElementById("lCm").getElementsByClassName("scSB")[0],s=n.createElement("ul");e(l).removeChild().appendChild(s).attr("class","reader"),new n.Content(o.name.query.language).xml().then(function(t){t.bookmark(s,o.name.bookmark).then(function(e){},function(t){e(s).attr("class","msg error").appendChild("li").appendChild("div").setContent(t)})},function(n){e(s).attr("class","msg error").appendChild("li").appendChild("div").setContent(t.lang.isNotFound.replace("{is}",o.name.query.language))}).then(function(){a()})},random:function(t,a){var r=i.getElementById("lCm").getElementsByClassName("scSB")[0],l=n.createElement("ul");e(r).removeChild().appendChild(l).attr("class","reader");var s=!1,c=(new Date).toLocaleDateString().toString().replace(/\//g,"");new Promise(function(t,a){o.name.randomverse&&e(o.name.randomverse).isObject()&&!e(o.name.randomverse).isEmpty()?o.name.randomverse.id!=c&&(o.name.randomverse.id=c,s=!0):(s=!0,o.name.randomverse.id=c),s?new n.Content(o.name.query.language).xml().then(function(e){e.randomverse().then(function(e){o.name.randomverse.verse=e.information,o.update("randomverse"),t()})}):t()}).then(function(){new n.Content(o.name.query.language).xml().then(function(e){e.bookmark(l,o.name.randomverse.verse).then(function(e){},function(e){})},function(e){}).then(function(){t()})})},setting:function(a,r){var l=o.name.setting,s=i.getElementById("lCm").getElementsByClassName("scSB")[0],c=n.createElement("ul");e(s).removeChild().appendChild(c).addClass("setting"),l.hasOwnProperty("class")||(l.class={}),e({fontsize:{title:"Words size",style:"body {font-size:$100%;}",option:{"80%":{title:"1",class:"size-small-extra"},"90%":{title:"2",class:"size-small"},"100%":{title:"3",class:"size-normal",defaults:!0},"120%":{title:"4",class:"size-large"},"150%":{title:"5",class:"size-large-extra"}}},background:{title:"background colour",style:"body {background-color:$white;}",option:{"#ffffff":{class:"color-white"},"#F8F8F8":{class:"color-lightgray",defaults:!0},"#7f7f7f":{class:"color-dimgrey"},"#b97a59":{class:"color-chocolate"},"#880016":{class:"color-darkred"},"#ed1b24":{class:"color-red"},"#fef102":{class:"color-gold"},"#24b04d":{class:"color-green"},"#3f47cc":{class:"color-darkblue"}}}}).each(function(a,i){var r=n.createElement("li");e(c).appendChild(r).appendChild("h3").setContent(i.title);var s=e(c).appendChild(r).appendChild("ol").addClass(a).element;e(i.option).each(function(n,i){var r=t.classname.inactive,c=e(s).appendChild("li").addClass(i.class).addClass("icon-ok");i.hasOwnProperty("title")&&c.attr("data-title",i.title),l.class.hasOwnProperty(a)?r=l.class[a]==i.class?t.classname.active:t.classname.inactive:i.hasOwnProperty("defaults")&&(r=t.classname.active),c.addClass(r).click(function(n){var r=n.target;r.classList.contains(t.classname.active)||(e(r.parentNode.getElementsByClassName(t.classname.active)).each(function(e,n){n.classList.remove(t.classname.active)}),r.classList.add(t.classname.active),l.class.hasOwnProperty(a)&&document.body.classList.contains(l.class[a])&&document.body.classList.remove(l.class[a]),document.body.classList.contains(i.class)||document.body.classList.add(i.class),l.class[a]=i.class,o.update("setting"))})})}),a()},about:function(a,i){var r=n.createElement("ul");e(n.scContent).removeChild().appendChild(r).addClass("about").appendChild("li").addClass("description").appendChild("p").addClass("desc").setContent(t.description),e(o.name.setting.available).each(function(a,i){var o=n.createElement("li");e(r).appendChild(o),e(o).addClass(t.classname.available).appendChild("h3").setContent(i.name),e(o).appendChild("p").attr("data-title","Version").setContent(i.version),e(o).appendChild("p").setContent(i.desc),i.hasOwnProperty("size")?e(o).appendChild("p").attr("data-title","Size").setContent(i.size):e(o).appendChild("p").attr("data-title","Size").setContent("...")}),a()},contact:function(a,o){var r=i.getElementById("lCm").getElementsByClassName("scSB")[0];e(r).removeChild();var l=n.createElement("ul");r.appendChild(l).setAttribute("class","about");var s=t.information;l.appendChild(n.createElement("li")).innerHTML=s.email,l.appendChild(n.createElement("li")).innerHTML=s.introduction;var c=n.createElement("li");e(l).appendChild(c),e(s.list).each(function(t,n){e(c).appendChild("p").attr("data-title",n.name).setContent(n.desc)}),l.appendChild(n.createElement("li")).innerHTML=s.conclusion,a()}},header:{content:function(){var n=i.getElementById("lMn"),a=n.querySelector(".icon-panel"),r=n.querySelector("#lmD"),l=n.querySelector("#backLink");r.setAttribute("data-title",t.page[o.name.query.page].title),o.name.query.page!=o.name.query.pagePrevious?l||((l=i.createElement("li")).setAttribute("class","icon-left"),l.setAttribute("id","backLink"),n.insertBefore(l,n.firstChild),a.style.display="none",e(l).click(function(){window.location.hash="#123".replace(/123/,o.name.query.pagePrevious)})):l&&(l.remove(),a.style.display="")}}}).initiate()})}(scriptive);