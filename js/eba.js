/*!
    EBA
    Version {package.version}-{application.buildDate}
    https://scriptive.github.io/eba
*/
!function(e){"use strict";var t={description:"This is not the entire bible. This is the bible analysis according to topics. Thus it helps to search, check and study the scriptures. Please be advised, read the bible book to meditate.",information:{email:"supereffortless@gmail.com",introduction:"Please give proper title/subject for your email.",list:[{name:"Advice",desc:"xxxxxxx"},{name:"Broken Report",desc:"xxxxxxx"},{name:"Copyrights",desc:"xxxxxxx"},{name:"Discussion",desc:"xxxxxxx"},{name:"Donation",desc:"xxxxxxx"},{name:"Mistaken Verse",desc:"xxxxxxx"},{name:"Question",desc:"xxxxxxx"}],conclusion:"You will be replied as soon as possible."},page:{home:{id:1,name:"Home",class:"icon-language",title:"Effortless"},category:{id:2,name:"Category",class:"book"},reader:{id:3,name:"Reader",class:"chapter"},search:{id:4,name:"Search",class:"icon-lookup",title:"Search"},result:{id:5,title:"Effortless"},bookmark:{id:6,name:"Stars",class:"icon-star",title:"Stars"},random:{id:7,name:"Random Verse",class:"icon-random",title:"Random Verse"},setting:{id:8,class:"icon-display",title:"Display"},about:{id:9,name:"About",class:"icon-about",title:"About"},contact:{id:10,name:"Contact",class:"icon-contact",title:"Contact"}},hash:{},file:{template:"z.html",book:"https://storage.googleapis.com/effortless/book.json",urlLocal:"eba/bId.xml",urlAPI:["https://storage.googleapis.com/effortless/bId.xml"]},fileStorage:{RequestQuota:1073741824,Permission:1,objectStore:{name:"eba",version:1}},lang:{isLocalRemove:'Would you like to remove "{is}" from local?',tryAWord:"Try a word or two!",noMatchFor:"No match for {for}!",noCategoryContent:"This category has no content...",noCategoryData:"This category has no data...",noBookmark:"None",noLanguage:"...",isNotFound:'Not found: "{is}"',Loading:"Loading",isError:"Error",addLang:"Add",addingLang:"Adding",removeLang:"Remove",removingLang:"Removing"},classname:{active:"active",inactive:"inactive",filter:"filter",available:"available"},version:"0.0.4",build:"1.0.1"};e({main:"#lCm",mainActive:".scSB",menu:"#lMn",idUnique:"eba:unique"}).ready(function(n){var a,o=document,r=n.storage;n.on("error",function(e){console.log("error",e)}),n.extension({notification:function(e){console.log("notification",e)},initiate:function(){t.pageHome=Object.keys(t.page)[0];var i=function(){return l().then(function(){return r.update("query"),new Promise(function(e,t){n.page[r.name.query.page](e,t)}).then(function(){o.body.setAttribute("id",r.name.query.page),n.header.content()},function(e){return e})},function(e){return e})},l=function(){var n=Object.keys(r.name.setting.available),a={page:t.pageHome,language:n[0],testament:1,category:1,q:"",pagePrevious:t.pageHome,result:""},o={page:function(e,n,a,o){o[e]=t.page.hasOwnProperty(n.toLowerCase())?n.toLowerCase():a},pagePrevious:function(e,n,a,o){o[e]&&t.page.hasOwnProperty(o[e])?a!=o.page&&(o[e]=t.page[a].id<=t.page[o.page].id?a:t.pageHome):o[e]=a,t[e]=o[e]},language:function(a,o,i,l){n.length?(e(n).inArray(o)||(t[a]=l[i]),r.name.query.hasOwnProperty("pageBlock")&&delete r.name.query.pageBlock):(r.name.query.page=t.pageHome,r.name.query.pageBlock=1)},q:function(e,t,n,a){a[e]=decodeURIComponent(t)}};return new Promise(function(n,i){try{e(r.name.query).isEmpty()?e(r.name.query).merge(a,t.hash):(a.pagePrevious=r.name.query.page,e(r.name.query).merge(t.hash)),e(r.name.query).each(function(e,t,n){o[e]instanceof Function&&o[e](e,t,a[e],n)}),n()}catch(e){i(e)}})};new Promise(function(l,s){(r.select("setting").select("book").select("query").select("language").select("randomverse").select("todo").select("bookmark").select("suggestion"),r.name.setting.hasOwnProperty("build")?r.name.setting.build==t.build?t.requireUpdate=0:t.requireUpdate=2:t.requireUpdate=1,t.requireUpdate&&(r.name.setting.version=t.version,r.name.setting.build=t.build,r.update("setting")),new Promise(function(e,o){a=fileStorage(t.fileStorage,{success:function(){n.isEmpty(r.name.book)?n.book.json().then(function(){e()},function(e){o(e)}):e()},fail:function(e){o(e)}})})).then(function(){return o.body.classList.add("eba"),r.name.setting.hasOwnProperty("class")?e(r.name.setting.class).each(function(e,t){o.body.classList.add(t)}):r.name.setting.class={},r.name.setting.hasOwnProperty("available")||(r.name.setting.available={}),a.download({url:t.file.template.replace(/z/,["default","all"].join(".")),before:function(e){e.overrideMimeType("text/html; charset=utf-8"),e.responseType="document"}}).then(function(a){return new Promise(function(i,l){try{for(var s=a.data.body;s.firstChild;)o.body.appendChild(s.firstChild);n.panelEvent(function(a){a.open(function(a){var o=n.scPanelCurrent.querySelector("ul");e(o).removeChild(),e(t.page).each(function(t,n){n.name&&e(o).appendChild("li").addClass(t).toggleClass("active",r.name.query.page==t).appendChild("a").attr("href","#"+t).setContent(n.name)}),!0===a.overlay&&(n.scContent.style.opacity=.2)}),a.close(function(){n.scContent.style.opacity=1}),a.drag(function(e){!0===e.overlay&&(n.scContent.style.opacity=parseFloat(1-e.percentage/170).toFixed(2))}),i()})}catch(e){l(e)}}).then(function(){return i().then(function(e){var t=o.querySelector("div#screen");if(e)return e;t&&t.remove()})},function(e){return e})},function(e){return e}).then(function(e){return e})},function(e){return e}).then(function(e){e?s(e):l()})}).then(function(){n.resizeEvent(function(){}),n.hashEvent(function(e){e&&(t.hash=e),i().then(function(e){e&&console.log("page error",e)})});document.querySelector("form.search")},function(e){"object"==typeof e&&e.hasOwnProperty("message")?n.notification(e.message):"string"==typeof e&&n.notification(e)})},Data:function(e){var o=n.book,i="book",l=r.name,s=this;this.open=function(){return a.open({urlLocal:t.file.urlLocal.replace(/bId/,e),readAs:"readAsText"})},this.download=function(n){var r={dir:JSON.parse(JSON.stringify(t.file.urlAPI)),request:function(o){return a.download({url:o,urlLocal:t.file.urlLocal.replace(/bId/,e),before:function(e){e.overrideMimeType("text/xml; charset=utf-8")},progress:n})},process:function(t,n){var a=r.dir.shift().replace(/bId/,e);return r.request(a).then(function(n){n.xml||(n.xml=(new DOMParser).parseFromString(n.data,n.fileType)),o.file[e]=n.xml,t(n)},function(e){r.dir.length?r.process(t,n):n(e)})}};return new Promise(r.process)},this.save=function(t){return new Promise(function(c,d){a.save(t).then(function(t){o.hasOwnProperty(i)&&o[i].hasOwnProperty(e)&&(l[i][e]=o[i][e]);var a=t.total;new n.Content(e).xml().then(function(t){t.information().then(function(t){t.information.size=s.bytesToSize(a),o.hasOwnProperty(i)&&o[i].hasOwnProperty(e)?l[i][e].information=t.information:l[i][e]={name:t.information.name,updated:"0",information:t.information},r.name.setting.available[e]=1},function(e){console.log(e)})},function(e){}).then(function(){r.update(i).update("setting"),c(t)})},function(e){d(e)})})},this.bytesToSize=function(e,t){if(0==e)return"0 Bytes";var n=t||2,a=Math.floor(Math.log(e)/Math.log(1e3));return parseFloat((e/Math.pow(1e3,a)).toFixed(n))+" "+["Bytes","KB","MB","GB","TB","PB","EB","ZB","YB"][a]},this.delete=function(){return new Promise(function(n,o){a.delete({urlLocal:t.file.urlLocal.replace(/bId/,e),fileNotFound:!0}).then(function(t){delete l[i][e].information,delete r.name.setting.available[e],r.update(i).update("setting"),n(t)},function(e){o(e)})})},this.request=function(t){return new Promise(function(n,a){o.file.hasOwnProperty(e)?n(o.file[e]):l[i].hasOwnProperty(e)?s.open().then(function(t){t.xml=(new DOMParser).parseFromString(t.fileContent,t.fileType),o.file[e]=t.xml,n(t.xml)},function(e){s.delete().then(function(){a(e)})}):s.download(t).then(function(e){s.save(e).then(function(){console.log("save success")},function(){console.log("save fail")}).then(function(){n(e.xml)})},function(e){a(e)})})}},Content:function(a){var o,i={category:0,section:0,verse:0};t.category={};var l=function(a,o,r){return new Promise(function(l,s){var d=c(r);if(!d.length)return s(t.lang.noCategoryData);e(d).each(function(l,s){var c,d=r||s.getAttribute("id");e(s.querySelectorAll(p())).each(function(r,l){var s=o(l);if(s){c||(c=f.createOl(a,d)),i.verse++;var p=l.getAttribute("book"),g=p<=39?1:2,h=l.getAttribute("chapter"),v=l.getAttribute("verse"),C=(l.getAttribute("tag"),m(g).innerHTML,u(p).innerHTML),y=n.book.hasBookmark(d,p,h,v)?t.classname.active:t.classname.inactive,b=p<=39?"OT":"NT",k=C.replace(/\s+/g,"-").toLowerCase(),w=n.createElement("li");e(c).appendChild(w).addClass(y).addClass(b).addClass(k),e(w).appendChild("div").addClass("icon-star").click(function(e){n.book.addBookmark(e.target.parentNode,d,p,h,v)}),e(w).appendChild("div").attr("data-title","123 234:345".replace(123,C).replace(234,h).replace(345,v)).setContent(f.replaceNumber(s))}})}),i.verse?l(i):s(r?t.lang.noCategoryContent:t.lang.noMatchFor)})},s=function(e){return e?o.querySelector('section row[id="0"]'.replace(0,e)):o.querySelectorAll("section row")},c=function(e){return o.querySelectorAll(e?'category[id="0"]'.replace(0,e):"category")},d=function(e){return o.querySelectorAll('category[id="0"] row'.replace(0,e))},u=function(e){return e?o.querySelector('book row[id="0"]'.replace(0,e)):o.querySelectorAll("book row")},m=function(e){return e?o.querySelector('testament row[id="0"]'.replace(0,e)):o.querySelectorAll("testament row")},p=function(e,t,n,a,o){var r="row";return e&&(r+='[book="0"]'.replace(0,e)),t&&(r+='[chapter="0"]'.replace(0,t)),n&&(r+='[verse="0"]'.replace(0,n)),a&&(r+='[testament="0"]'.replace(0,a)),o&&(r+='[tag="0"]'.replace(0,o)),r},f={replaceKeyword:function(e,t){return"string"==typeof t?e.replace(new RegExp(t,"gi"),"<b>$&</b>"):e},replaceNumber:function(e){return e.match(/\[(.*?)\]/g).length>1?e.replace(/\[(.*?)\]/g,"<sup>$1</sup>"):e.replace(/\[(.*?)\]/g,"")},createOl:function(t,a){i.category++;var o=s(a),r=n.createElement("li");return e(r).appendChild("h2").attr("data-description",o.innerHTML).setContent(o.getAttribute("name")),n.book.category.name=o.getAttribute("name"),e(t).appendChild(r).appendChild("ol").element}},g={section:function(t){return new Promise(function(n,a){var o=[];e(s()).each(function(n,a){i.section++;var r=a.getAttribute("id"),l=a.getAttribute("name"),s=(a.getAttribute("sort"),a.innerHTML,l.charAt(0));o.indexOf(s)<0&&(o.push(s),e(t).appendChild("li").addClass("alpha").attr("id",s).setContent(s)),e(t).appendChild("li").addClass("icon-arrow-right").attr("data-title",r).appendChild("a").attr("data-total",d(r).length).attr("data-description",a.innerHTML).attr("href","#reader?category="+r).setContent(l)}),n(i)})},randomverse:function(){return new Promise(function(e,t){i.information={};var n=Math.floor(Math.random()*s().length),a=d(n),o=a[Math.floor(Math.random()*a.length)],r=o.getAttribute("book"),l=o.getAttribute("chapter"),c=o.getAttribute("verse");i.information[n]={},i.information[n][r]={},i.information[n][r][l]=[c],e(i)})},information:function(){return new Promise(function(t,n){var a;i.information={},e(a?o.querySelector('info row[id="0"]'.replace(0,a)):o.querySelectorAll("info row")).each(function(e,t){i.section++;var n=t.getAttribute("id");i.information[n]=t.innerHTML}),t(i)})},reader:function(e,t){return l(e,function(e){return e.innerHTML},t)},lookup:function(e,t){return l(e,function(e){var n=e.getAttribute("testament");if(new RegExp(t,"i").test(e.innerHTML)){if(!(n=e.getAttribute("testament")))return f.replaceKeyword(e.innerHTML,t);if(n==r.name.testament)return f.replaceKeyword(e.innerHTML,t)}})},bookmark:function(a,o){return new Promise(function(l,s){e(o).each(function(o,l){var s;e(l).each(function(l,d){e(d).each(function(d,g){e(g).each(function(g,h){e(c(o)).each(function(c,g){e(g.querySelectorAll(p(l,d,h))).each(function(c,p){s||(s=f.createOl(a,o)),i.verse++;var g=m(l<=39?1:2).innerHTML,v=u(l).innerHTML,C=g.replace(" ","-").toLowerCase(),y=v.replace(" ","-").toLowerCase(),b=n.book.hasBookmark(o,l,d,h)?t.classname.active:t.classname.inactive,k=n.createElement("li");e(s).appendChild(k).addClass(b).addClass(C).addClass(y),e(k).appendChild("div").addClass("icon-star").click(function(a){var i=a.target.parentNode;n.book.addBookmark(i,o,l,d,h),"randomverse"!=r.name.query.page&&(i=i.remove())&&""===i.innerHTML&&(i=i.parentNode.remove())&&""===i.innerHTML&&e(i).addClass("msg").appendChild("li").appendChild("div").setContent(t.lang.noBookmark)}),e(k).appendChild("div").attr("data-title","123 234:345".replace(123,v).replace(234,d).replace(345,h)).setContent(f.replaceNumber(p.innerHTML))})})})})})}),i.verse?l(i):s(t.lang.noBookmark)})}};this.xml=function(){return new Promise(function(e,t){new n.Data(a).request(function(){}).then(function(t){o=t,e(g)},function(e){t(e)})})}},book:{file:{},category:{},addBookmark:function(e,n,a,o,i){var l=r.name.bookmark;e.classList.contains(t.classname.active)?(l[n][a][o].splice(l[n][a][o].indexOf(i),1),l[n][a][o].length<=0&&(delete l[n][a][o],0===Object.keys(l[n][a]).length&&(delete l[n][a],0===Object.keys(l[n]).length&&delete l[n])),e.classList.remove(t.classname.active),e.classList.add(t.classname.inactive)):(l.hasOwnProperty(n)||(l[n]={}),l[n].hasOwnProperty(a)||(l[n][a]={}),l[n][a].hasOwnProperty(o)||(l[n][a][o]=[]),l[n][a][o].push(i.toString()),e.classList.add(t.classname.active),e.classList.remove(t.classname.inactive)),r.update("bookmark")},hasBookmark:function(e,t,n,a){var o=r.name.bookmark;if(o.hasOwnProperty(e)&&o[e].hasOwnProperty(t)&&o[e][t].hasOwnProperty(n))return o[e][t][n].indexOf(a)>-1},isAvailable:function(t){if(!e(r.name.book).isEmpty()&&r.name.book.hasOwnProperty(t)&&r.name.book[t].hasOwnProperty("information"))return!0},json:function(o){return new Promise(function(i,l){o=o||t.file.book,a.download({url:o}).then(function(t){n.book.all=e(r.name.book).merge(JSON.parse(t.data)),r.update("book"),i()},function(e){l(e)})})}},page:{home:function(a,i){e(n.scContent).removeChild();var l=o.createElement("ul");l.setAttribute("class","home"),r.name.query.hasOwnProperty("pageBlock")&&e(n.scContent).appendChild("ul").addClass("msg notify").appendChild("li").appendChild("p").setContent(t.lang.noLanguage),n.scContent.appendChild(l),e(r.name.book).each(function(a,r){var i=o.createElement("li"),s=o.createElement("div"),c=o.createElement("div"),d=o.createElement("a"),u=o.createElement("div");i.setAttribute("id",a),s.appendChild(c),s.appendChild(u),c.appendChild(d);var m=(new Date).getTime();e(d).attr("href","#category?language=bId&i=random".replace(/bId/,a).replace(/random/,m)).setContent(r.name),e(u).click(function(e){e.target;n.book.isAvailable(a)?(u.innerHTML=t.lang.removingLang,new n.Data(a).delete().then(function(){u.innerHTML=t.lang.addLang},function(e){u.innerHTML=t.lang.isError})):new n.Data(a).download(function(){u.innerHTML=t.lang.addingLang}).then(function(e){return new n.Data(a).save(e).then(function(){u.innerHTML=t.lang.removeLang},function(){u.innerHTML=t.lang.isError+":01"})},function(e){u.innerHTML=t.lang.isError+":02"})}).setContent(t.lang.addLang),n.book.isAvailable(a)&&(i.setAttribute("class",t.classname.active),u.innerHTML=t.lang.removeLang),i.appendChild(s),l.appendChild(i)}),a()},category:function(a,i){var l=r.name.query,s=l.page,c=l.language,d=o.getElementById("lCm").getElementsByClassName("scSB")[0],u=e(d).removeChild().appendChild("ul").attr("class","category");t.page[s].title=r.name.book[c].name,new n.Content(c).xml().then(function(e){e.section(u.element).then(function(e){},function(e){})},function(e){u.attr("class","msg error").appendChild("li").appendChild("div").setContent(t.lang.isNotFound.replace("{is}",r.name.query.language))}).then(function(){a();var t=n.createElement("li");e(d).appendChild("ul").attr("class","category-index").appendChild(t).click(function(e){var t=e.target.getAttribute("class"),n=o.getElementById(t);n&&(d.scrollTop=n.offsetTop)}),u.selectChild("li.alpha",!0).each(function(n,a){e(t).appendChild("p").attr("class",a.getAttribute("id")).setContent(a.innerHTML)})})},reader:function(a,i){var l=o.getElementById("lCm").getElementsByClassName("scSB")[0],s=e(l).removeChild().appendChild("ul").attr("class","reader"),c=r.name.query,d=c.page,u=c.language;new n.Content(u).xml().then(function(e){e.reader(s.element,c.category).then(function(e){},function(e){})},function(e){}).then(function(){t.page[d].title=n.book.category.name,a()})},search:function(a,i){var l=o.getElementById("lCm").getElementsByClassName("scSB")[0],s=n.createElement("ul");e(l).removeChild().appendChild(s).addClass("search"),e(s).appendChild("li").appendChild("div").appendChild("input").attr("type","search").attr("name","q").attr("id","q").attr("placeholder","search..."),e(s).appendChild("li").appendChild("div").click(function(a){var o=a.target;if(o.nextElementSibling)o.nextElementSibling.remove();else{var i=n.createElement("ol");e(o.parentNode).appendChild(i).click(function(n){var a=n.target,o=a.getAttribute("id");o&&r.name.query.language!=o&&(a.parentNode.querySelector("."+t.classname.active).classList.remove(t.classname.active),e(a).addClass(t.classname.active),r.name.query.language=o)}),e(r.name.book).each(function(n,a){e(i).appendChild("li").attr("id",n).addClass(r.name.query.language==n?t.classname.active:t.classname.inactive).setContent(a.name)})}}).setContent("Language");var c=n.createElement("div");e(s).appendChild("li").addClass("lsi").appendChild(c).click(function(n){var a=n.target,o=a.getAttribute("id");if(o&&r.name.query.testament!=o){var i=a.parentNode.querySelector("."+t.classname.active);i&&i.classList.remove(t.classname.active),e(a).addClass(t.classname.active),r.name.query.testament=o}}),e(c).appendChild("p").attr("id","1").addClass(1==r.name.query.testament?t.classname.active:t.classname.inactive).setContent("OT"),e(c).appendChild("p").attr("id","2").addClass(2==r.name.query.testament?t.classname.active:t.classname.inactive).setContent("NT"),e(s).appendChild("li").appendChild("div").click(function(){var e=o.getElementById("q").value;e&&r.name.query.language&&r.name.query.testament&&(window.location.hash="#result?q=123&i=234".replace(/123/,e).replace(/234/,(new Date).getTime()))}).setContent("Enter"),a()},result:function(a,i){var l=o.getElementById("lCm").getElementsByClassName("scSB")[0],s=n.createElement("ul"),c=r.name.query,d=(c.page,c.language);e(l).removeChild().appendChild(s).attr("class","reader"),new n.Content(d).xml().then(function(n){r.name.query.q?n.lookup(s,r.name.query.q).then(function(e){},function(t){e(s).attr("class","msg error").appendChild("li").appendChild("div").setContent(t.replace("{for}",r.name.query.q))}):e(s).attr("class","msg error").appendChild("li").appendChild("div").setContent(t.lang.tryAWord)},function(n){e(s).attr("class","msg error").appendChild("li").appendChild("div").setContent(t.lang.isNotFound.replace("{is}",r.name.query.book))}).then(function(){a()})},bookmark:function(a,i){var l=o.getElementById("lCm").getElementsByClassName("scSB")[0],s=n.createElement("ul");e(l).removeChild().appendChild(s).attr("class","reader"),new n.Content(r.name.query.language).xml().then(function(t){t.bookmark(s,r.name.bookmark).then(function(e){},function(t){e(s).attr("class","msg error").appendChild("li").appendChild("div").setContent(t)})},function(n){e(s).attr("class","msg error").appendChild("li").appendChild("div").setContent(t.lang.isNotFound.replace("{is}",r.name.query.language))}).then(function(){a()})},random:function(t,a){var i=o.getElementById("lCm").getElementsByClassName("scSB")[0],l=n.createElement("ul");e(i).removeChild().appendChild(l).attr("class","reader");var s=!1,c=(new Date).toLocaleDateString().toString().replace(/\//g,"");new Promise(function(t,a){r.name.randomverse&&e(r.name.randomverse).isObject()&&!e(r.name.randomverse).isEmpty()?r.name.randomverse.id!=c&&(r.name.randomverse.id=c,s=!0):(s=!0,r.name.randomverse.id=c),s?new n.Content(r.name.query.language).xml().then(function(e){e.randomverse().then(function(e){r.name.randomverse.verse=e.information,r.update("randomverse"),t()})}):t()}).then(function(){new n.Content(r.name.query.language).xml().then(function(e){e.bookmark(l,r.name.randomverse.verse).then(function(e){},function(e){})},function(e){}).then(function(){t()})})},setting:function(a,i){var l=r.name.setting,s=o.getElementById("lCm").getElementsByClassName("scSB")[0],c=n.createElement("ul");e(s).removeChild().appendChild(c).addClass("setting"),l.hasOwnProperty("class")||(l.class={}),e({fontsize:{title:"Words size",style:"body {font-size:$100%;}",option:{"80%":{title:"1",class:"size-small-extra"},"90%":{title:"2",class:"size-small"},"100%":{title:"3",class:"size-normal",defaults:!0},"120%":{title:"4",class:"size-large"},"150%":{title:"5",class:"size-large-extra"}}},background:{title:"background colour",style:"body {background-color:$white;}",option:{"#ffffff":{class:"color-white"},"#F8F8F8":{class:"color-lightgray",defaults:!0},"#7f7f7f":{class:"color-dimgrey"},"#b97a59":{class:"color-chocolate"},"#880016":{class:"color-darkred"},"#ed1b24":{class:"color-red"},"#fef102":{class:"color-gold"},"#24b04d":{class:"color-green"},"#3f47cc":{class:"color-darkblue"}}}}).each(function(a,o){var i=n.createElement("li");e(c).appendChild(i).appendChild("h3").setContent(o.title);var s=e(c).appendChild(i).appendChild("ol").addClass(a).element;e(o.option).each(function(n,o){var i=t.classname.inactive,c=e(s).appendChild("li").addClass(o.class).addClass("icon-ok");o.hasOwnProperty("title")&&c.attr("data-title",o.title),l.class.hasOwnProperty(a)?i=l.class[a]==o.class?t.classname.active:t.classname.inactive:o.hasOwnProperty("defaults")&&(i=t.classname.active),c.addClass(i).click(function(n){var i=n.target;i.classList.contains(t.classname.active)||(e(i.parentNode.getElementsByClassName(t.classname.active)).each(function(e,n){n.classList.remove(t.classname.active)}),i.classList.add(t.classname.active),l.class.hasOwnProperty(a)&&document.body.classList.contains(l.class[a])&&document.body.classList.remove(l.class[a]),document.body.classList.contains(o.class)||document.body.classList.add(o.class),l.class[a]=o.class,r.update("setting"))})})}),a()},about:function(a,i){var l=o.getElementById("lCm").getElementsByClassName("scSB")[0],s=n.createElement("ul");e(l).removeChild().appendChild(s).addClass("about").appendChild("li").addClass("description").appendChild("p").addClass("desc").setContent(t.description),e(r.name.book).each(function(a,o){var r=n.createElement("li");e(s).appendChild(r),e(r).addClass(t.classname.available).appendChild("h3").setContent(o.name),o.hasOwnProperty("information")&&!e(o.information).isEmpty()?(e(r).appendChild("p").attr("data-title","Version").setContent(o.information.version),o.information.hasOwnProperty("size")?e(r).appendChild("p").attr("data-title","Size").setContent(o.information.size):e(r).appendChild("p").attr("data-title","Size").setContent("size view required to readd language")):e(r).addClass(t.classname.inactive)}),a()},contact:function(a,r){var i=o.getElementById("lCm").getElementsByClassName("scSB")[0];e(i).removeChild();var l=n.createElement("ul");i.appendChild(l).setAttribute("class","about");var s=t.information;l.appendChild(n.createElement("li")).innerHTML=s.email,l.appendChild(n.createElement("li")).innerHTML=s.introduction;var c=n.createElement("li");e(l).appendChild(c),e(s.list).each(function(t,n){e(c).appendChild("p").attr("data-title",n.name).setContent(n.desc)}),l.appendChild(n.createElement("li")).innerHTML=s.conclusion,a()}},header:{content:function(){var n=o.getElementById("lMn"),a=n.querySelector(".icon-panel"),i=n.querySelector("#lmD"),l=n.querySelector("#backLink");i.setAttribute("data-title",t.page[r.name.query.page].title),r.name.query.page!=r.name.query.pagePrevious?l||((l=o.createElement("li")).setAttribute("class","icon-left"),l.setAttribute("id","backLink"),n.insertBefore(l,n.firstChild),a.style.display="none",e(l).click(function(){window.location.hash="#123".replace(/123/,r.name.query.pagePrevious)})):l&&(l.remove(),a.style.display="")}}}).initiate()})}(scriptive);